cask 'pdk' do
  version '<%= latest_version %>'

  case MacOS.version.to_sym
<% os_versions.values.zip(shas).each do |name, sha| -%>
  when :<%= name %>
    sha256 '<%= sha %>'
<% end -%>
  end

  url "https://downloads.puppet.com/mac/puppet5/#{MacOS.version}/x86_64/pdk-#{version}-1.osx#{MacOS.version}.dmg"
  name 'Puppet Development Kit'
  homepage 'https://github.com/puppetlabs/pdk'

  depends_on macos: '>= 10.11'

  pkg "pdk-#{version}-1-installer.pkg"

  uninstall pkgutil: 'com.puppetlabs.pdk'
end
